<header>
		 <h2>2.1 无线网络安全理论基础</h2>
</header>
<p>我们知道对于任何破解的关键都在于一个加密和解密的过程，而我们通常意义上的无线破解大多都是指的无线网络连接密码的破解，理论基础这块重点讲的也是这个过程，至于像利用假AP引诱用户连接等这种社会工程学的方法不属于此类，我们放到后面来讲。</p>
<p>开头我先说明一点：现行的无线协议标准在安全方面是完全达标的，是非常安全的。你们可以想想，如果现行的无线标准在安全上已经那么容易就可以被攻破了，业界为什么还一直在使用这一标准。所以说wifi破解成功的概率是很低的，我们现在做的破解之所以能成功完全是钻了用户自己配置路由器不当和用户设置的密码强度不够的漏洞罢了。</p>
<p>首先我简要的讲一个无线认证的过程和原理，如果你对具体的详细过程感兴趣，后面我会贴出来一个详细过程，不感兴趣的可以直接跳过，以后有需要的时候再回来细读即可。</p>
<p>我们用手机去连接路由器的时候，通常要输入一个密码，这个密码如果和路由器中保存的密码一致，那么路由器就是同意我们连接，于是我们就连上了。而我们的手机和路由器像对暗号似的核对密码的这个过程的具体原理其实我们没有必要细究，你只要明白这个核对过程当中一定会有一个加密数据的交互过程就够了。我们把这个交互过程就叫做握手。这个过程交互的数据包我们叫握手包。这个握手包是一个加密的数据包，加密的方式就和我们的连接密码有关，只要我们能得到这个握手包，我们就能想办法从中推导出密码。</p>
<p>有两点需要注意：</p>
1．	握手的过程只发生在设备和路由器刚开始建立连接的时刻，一旦连接以后他们就不再需要也不会再传送这个和密码相关的数据包了。</br>
2．	我们没有办法从握手包中反算出密码，我们唯一可用的破解握手包的手段就是使用能想到的密码一个一个的按照同样的加密算法计算结果再和握手包内的数据做对比，如果一个密码加密后的结果和握手包的一致，那就说明这个密码和握手时用的密码是一样的。</br>
<p>这样我们就明白了，首先我们要在设备和路由器连接的时候洽时的抓到这个握手包，其次，我们用来猜测密码的字典里要包含正确的密码才能破解开握手包。</p>
<p>这样原理我们就讲完了。再仔细想一遍整个原理吧，只有明白了原理对下来的破解过程才能更好的理解和记忆。</p>
<p>普通无线加密的分类：</p>
1、wep加密：此类加密比较老旧，非常不安全，十分容易被破解，现在的无线路由器已经很少使用此类加密方式。</br>
2、WPA/WPA2 PSK加密。这类加密是很安全的，破解的方式是抓握手包然后跑握手包。</br>
<p>工具：</p>
1、一块支持混杂模式（监听模式）的无线网卡。</br>
2、一个支持无线破解工具的系统（像CDlinux，kali，bt5等）</br>
3、一台配置不错的电脑（特别是显卡）</br>
<p>工具作用：</p>
无线网卡：用来抓包，要想破解无线你必须把空中的无线数据监听下来，存成一个文件。网卡只有这一个功能，也只有这一个用处，就是用它来抓取周围的无线数据包，把它存到文件里。供后来的程序分析用。</br>
系统：用来驱动网卡和分析数据。网卡虽然能支持混杂模式（监听模式），但是需要系统驱动程序的支持，不是所有的驱动都能支持把网卡设置为监听模式，这里我们一般用的就是kali，CDlinux。</br>
配置不错的电脑：用来计算密码明文。因为周围的数据包都是加密的，网卡监听到的数据自然也是加密的，要想通过这些加密的数据把密码计算出来，我们需要一台计算能力强劲的电脑（特别是显卡）。</br>
<p>再次我们说一个不同系统的选用</p>
<p>现在网上有很多的渗透测试系统，像cdlinux、kali、bt3，4，5、wifislax等等，大部分的这些系统主要是linux类的系统。总有同学问我能不能在windows做相应的测试，其实这个问题的答案很纠结，标准答案肯定是能，只是现实中做这个方面测试的程序基本没有windows的版本。因为我们做这件事情终归还是靠的是相应的程序，虽然在windows下也能所有的事情，但是由于缺少为windows系统编写的相应程序所以现在在windows上做这样的事情要比在linux下难的多，问题也多。</p>
<p>再说这几个linux的发型版，kali是一个非常有名切齐全的渗透测试系统，然后官方的支持非常好，目前的最新版是kali-2017.3，这个系统集成了渗透测试所用到的大部分的工具，而且工具都已经与系统调校的非常好了，开箱即用，免去了你再需要自己安装软件的麻烦。无线渗透测试只是它的一部分功能，它其中还包括了web渗透测试，二进制安全，内网渗透，信息搜集等很多的功能，是一个非常流行的全能型系统。</p>
<p>Cdlinux是一个小型的linux系统，体积只有一两百兆，这个系统是简化的一个小型的linux渗透测试系统，它只针对于无线网络的安全测试，其实它只用于无线网络数据包的抓取，目标非常的明确，它所集成的程序都是非常傻瓜似的窗口程序，这个系统为无线数据包的抓取提供了最大的便利，只要你打开这个系统点几下鼠标便可轻松的抓取到握手包。如果你只是想做无线安全方面的测试，这个是系统是最适合你的。</p>
<p>Bt345系列的系统，这个可能是大家听过的最广泛的无线渗透测试的系统了。这个系统其实就是kali系统的前身，bt系统一直发展到bt5系统后就不再更新了，在2014年的时候整个bt的项目转到了kali下面，新的系统由原来的bt（backtrack）更名为kali。</p>
<p>Wifislax这个系统比较特别，我们又叫它新cdlinux，它是cdlinux的继任者，我们知道cdlinux已经是一个很古老的系统了，很多现行的版本不支持usb3.0，不能创建钓鱼wifi，很多近几年的工具没有集成到这个里面，wifislax的出现解决了这些问题，在这个系统里你可以轻松的做任何无线安全相关的测试，支持更多的无线网卡和其它设备，而不是像cdlinuxn那样只能用来抓取无线数据包，当然这个系统的体积也相应的变是很大，大约有3G。</p>
<p>目前，最为简约和可靠的方试是用cdlinux抓取数据包，然后把握手包拿到windows下用显卡跑包。</p>
